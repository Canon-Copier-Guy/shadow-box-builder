<!DOCTYPE html>
<html lang="en">
<head>
    <link href='https://fonts.googleapis.com/css?family=Ubuntu Mono' rel='stylesheet'>
    <meta charset="UTF-8">
    <title>HAC Shadowbox Creator</title>
    <link rel="icon" href="https://cdn-longterm.mee6.xyz/plugins/embeds/images/1309714539331325952/55854afc13258498d8efa95fdad3a0e3b54052772ab4a4a9917ee8f426d03717.png">
    <style>
        body {
            font-family: Ubuntu Mono;
            text-align: center;
            padding: 50px;
        }

        .fullBox {
            position: relative;
            margin: auto;
        }
        
        /* h1 {
	        text-shadow: 0px 1px 1px #4d4d4d;
	        color: #222;
	        font: 80px 'LeagueGothicRegular';
        } */
    </style>
</head>
<body>
    <h1>Start Making your Shadow Box!</h1>
    <select id="boxDropdown" onchange="updateBox()">
        <option value="">-- Select Detachment --</option>
        <option value="1">Hazard Company</option>
        <option value="2">Dread Reapers</option>
        <option value="3">Death Company</option>
        <option value="4">Phantom Vanguard</option>
    </select>

    <select id="rankDropdown" onchange="updateRank()">
        <option value="">-- Select Rank --</option>
        <option value="1">Cadet</option>
        <option value="2">Space Cadet</option>
        <option value="3">Sergeant</option>
        <option value="4">Master Sergeant</option>
        <option value="5">Chief</option>
        <option value="6">Space Chief Prime</option>
        <option value="7">Death Captain	</option>
        <option value="8">Marshal</option>
        <option value="9">Star Marshal</option>
        <option value="10">Admiral</option>
        <option value="11">Skull Admiral</option>
        <option value="12">Fleet Admiral</option>
        <option value="13">Admirable Admiral</option>
        <option value="14">Commander</option>
        <option value="15">Galactic Commander</option>
        <option value="16">Hell Commander</option>
        <option value="17">General</option>
        <option value="18">5-Star General</option>
        <option value="19">10-Star General</option>
        <option value="20">Private</option>
        <option value="21">Super Private</option>
    </select>

    <select id="ribbonsDropdown" onchange="updateRibbons()">
        <option value="">-- Select Ribbon(s) --</option>
        <option value="1">Offensive Crusades</option>
        <option value="2">Defensive Crusades</option>
        <option value="3">Outstanding Unit</option>
        <option value="4">Choohe Crusade</option>
    </select>

    <input type="text" placeholder="Insert number and Callsign">

    <input id="downloadButton" type="button" value="Download Shadow Box" onclick="downloadShadowBox();" />

    <br></br>

    <canvas class="fullBox" id="fullBox"></canvas>

    <script>
        const scale = 0.5;
        let selectedRank = "";
        var selectedRankIconWidth;
        var selectedRankIconHeight;
        let selectedBox = "";

        document.getElementById('fullBox').width = 2236*scale;
        document.getElementById('fullBox').height = 2796*scale;

        function updateBox() {
            const dropdown = document.getElementById('boxDropdown');
            const box = document.getElementById('selectedBox');

            
            const boxes = {
                "1": "https://drive.google.com/thumbnail?id=1AiH1V7yFwuuserY22kprdXPvn3d1u7f8&sz=w1000",
                "2": "https://drive.google.com/thumbnail?id=1ZdQmwUW_8HqEDaJcu6PRXSQbdRVxW3q_&sz=w1000",
                "3": "https://drive.google.com/thumbnail?id=1_Shqn6Rl22ZHc4sNCNOCVoPXeWMD2Z0Q&sz=w1000",
                "4": "https://drive.google.com/thumbnail?id=12I5X1LLgVuqylQ-CFYxJu1U5dkQoU7om&sz=w1000"
            };

            selectedBox = new Image();
            selectedBox.src = boxes[dropdown.value];

            // Wait till image is loaded.
            selectedBox.onload = function () {
                // Create a canvas context.
                let canvas = document.getElementById('fullBox');
                let ctx = canvas.getContext('2d');

                //drawImage(img, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)
                ctx.drawImage(selectedBox, 0, 0, selectedBox.width, selectedBox.height, 0, 0, 2236*scale, 2796*scale);
                ctx.drawImage(selectedRank, 0, 0, selectedRank.width, selectedRank.height, (2123-(selectedRankIconWidth/2))*scale, (239-selectedRankIconHeight)*scale, selectedRankIconWidth*scale, selectedRankIconHeight*scale);
            }
        }
        function updateRank() {
            const dropdown = document.getElementById('rankDropdown');
            const rank = document.getElementById('selectedRank');

            const ranks = {
                "1":  "https://drive.google.com/thumbnail?id=1ujj4gBDZtc04Al0GUq1hv1Ek2fJ4jBgo&sz=w1000", // Cadet
                "2":  "https://drive.google.com/thumbnail?id=1KiRvba5FrOM4exPUMAsHEr9kcqdAykwy&sz=w1000", // Space Cadet
                "3":  "https://drive.google.com/thumbnail?id=1-3vBKEyGa-jHYsIXyaZngMpoSoaGVOpb&sz=w1000", // Sergeant
                "4":  "https://drive.google.com/thumbnail?id=14r7VqsJ3ndl6KT7Dlbzrzpho1Juwxdxj&sz=w1000", // Master Sergeant
                "5":  "https://drive.google.com/thumbnail?id=1Ff3cEV4gysdQXMtq5UfPEK4spNxzW5Cj&sz=w1000", // Chief
                "6":  "https://drive.google.com/thumbnail?id=1ybhHAnjy552GEOeVa40bVYuoJO894Z_e&sz=w1000", // Space Chief Prime
                "7":  "https://drive.google.com/thumbnail?id=19buoWNU9jO4-m5anloRpPMgj88VNtLOK&sz=w1000", // Death Captain
                "8":  "https://drive.google.com/thumbnail?id=1yTLE97dMExQ3w8Fz_AWRqHxFPSrXJw-C&sz=w1000", // Marshal
                "9":  "https://drive.google.com/thumbnail?id=1o27pV8sTLtUh2uax3Y6S-AS23AeNHbo5&sz=w1000", // Star Marshal
                "10": "https://drive.google.com/thumbnail?id=1lTzFjvi0vH6ySDPmlPdPDXz0BKiZRzWi&sz=w1000", // Admiral
                "11": "https://drive.google.com/thumbnail?id=18b5w2SnQhTlQbRKNxmAddJ7NaT-WcKmK&sz=w1000", // Skull Admiral
                "12": "https://drive.google.com/thumbnail?id=1YdtlRBGyUzgjX8Y6KR0MPFKPm2prGHIx&sz=w1000", // Fleet Admiral
                "13": "https://drive.google.com/thumbnail?id=1YdtlRBGyUzgjX8Y6KR0MPFKPm2prGHIx&sz=w1000", // Admirable Admiral
                "14": "https://drive.google.com/thumbnail?id=1jPRmj_OhZtpKLJN3y6v_8Ttdfz-28eVB&sz=w1000", // Commander
                "15": "https://drive.google.com/thumbnail?id=1uduTPgLRmkywYVfN1FL44b6rsbwLCTd1&sz=w1000", // Galactic Commander
                "16": "https://drive.google.com/thumbnail?id=1dPc4xasxUXrPYjU6mdYOBJ9GjhyxTMC6&sz=w1000", // Hell Commander
                "17": "https://drive.google.com/thumbnail?id=1niAaD6gWHjX-Af-rW3pBVeQ1ZsNi8ucM&sz=w1000", // General
                "18": "https://drive.google.com/thumbnail?id=1Y5sLhTGCnAk5CPrISK4GNHjoKCm0DFUq&sz=w1000", // 5-Star General
                "19": "https://drive.google.com/thumbnail?id=10x-ed2_-KohsWQQePYTIOWNzV4gU8JDM&sz=w1000", // 10-Star General
                "20": "https://drive.google.com/thumbnail?id=1NhnPYAX7TDwuJS3iyd4xsYs1zhuqqWvN&sz=w1000", // Private
                "21": "https://drive.google.com/thumbnail?id=1bBqu-Y7xDRaxWAc3glg2_r9zVuPcr796&sz=w1000"  // Super Private
            };

            rankIconWidths = {
                "1":  154, // Cadet
                "2":  154, // Space Cadet
                "3":  154, // Sergeant
                "4":  154, // Master Sergeant
                "5":  154, // Chief
                "6":  154, // Space Chief Prime
                "7":  154, // Death Captain
                "8":  154, // Marshal
                "9":  154, // Star Marshal
                "10": 154, // Admiral
                "11": 154, // Skull Admiral
                "12": 154, // Fleet Admiral
                "13": 154, // Admirable Admiral (177 for realz, don't have actial icon)
                "14": 154, // Commander
                "15": 177, // Galactic Commander
                "16": 154, // Hell Commander
                "17": 154, // General
                "18": 154, // 5-Star General
                "19": 177, // 10-Star General
                "20": 154, // Private
                "21": 177  // Super Private
            };

            rankIconHeights = {
                "1":  180, // Cadet
                "2":  180, // Space Cadet
                "3":  180, // Sergeant
                "4":  180, // Master Sergeant
                "5":  176, // Chief
                "6":  176, // Space Chief Prime
                "7":  176, // Death Captain
                "8":  203, // Marshal
                "9":  203, // Star Marshal
                "10": 203, // Admiral
                "11": 203, // Skull Admiral
                "12": 205, // Fleet Admiral
                "13": 205, // Admirable Admiral
                "14": 206, // Commander
                "15": 206, // Galactic Commander
                "16": 202, // Hell Commander
                "17": 202, // General
                "18": 205, // 5-Star General
                "19": 205, // 10-Star General
                "20": 177, // Private
                "21": 202  // Super Private
            };

            selectedRankIconWidth = rankIconWidths[dropdown.value];
            selectedRankIconHeight = rankIconHeights[dropdown.value];

            selectedRank = new Image();
            selectedRank.src = ranks[dropdown.value];

            // Wait till image is loaded.
            selectedRank.onload = function () {
                // Create a canvas context.
                let canvas = document.getElementById('fullBox');
                let ctx = canvas.getContext('2d');

                //drawImage(img, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)
                ctx.drawImage(selectedBox, 0, 0, selectedBox.width, selectedBox.height, 0, 0, 2236*scale, 2796*scale);
                ctx.drawImage(selectedRank, 0, 0, selectedRank.width, selectedRank.height, (2123-(selectedRankIconWidth/2))*scale, (239-selectedRankIconHeight)*scale, selectedRankIconWidth*scale, selectedRankIconHeight*scale);
            }
        }
        function updateRibbons() {
            const dropdown = document.getElementById('ribbonsDropdown');
            const ribbons = document.getElementById('selectedRibbons');

            const ribbonz = {
                "1": "https://drive.google.com/thumbnail?id=11ky11IsKxHttkMqMPdb7BahsFvc0UfyI&sz=w1000",
                "2": "https://drive.google.com/thumbnail?id=1SolWu4KTG9GJDD7dWiB4lql-luyRZd-J&sz=w1000",
                "3": "https://drive.google.com/thumbnail?id=1zzRpddSC0jAC8likai_peilo1r7TZBBD&sz=w1000",
                "4": "https://drive.google.com/thumbnail?id=18n9wE16Nc-KyZNTwCVqW-XjX80TTqPnr&sz=w1000"
                /*
                //Strike & Crusade Ribbons
                Offensive Crusades "1": "https://drive.google.com/thumbnail?id=11ky11IsKxHttkMqMPdb7BahsFvc0UfyI&sz=w1000",
                Defensive Crusade "2": "https://drive.google.com/thumbnail?id=1SolWu4KTG9GJDD7dWiB4lql-luyRZd-J&sz=w1000",
                Outstanding Unit "3": "https://drive.google.com/thumbnail?id=1zzRpddSC0jAC8likai_peilo1r7TZBBD&sz=w1000",
                Choohe Crusade "4": "https://drive.google.com/thumbnail?id=18n9wE16Nc-KyZNTwCVqW-XjX80TTqPnr&sz=w1000",
                Genesis Crusade "5": "https://drive.google.com/thumbnail?id=1q4bicgFAxe-1j5I3obzfmZe2NuYZE7QE&sz=w1000",
                Jungle Hero Strike "6": "https://drive.google.com/thumbnail?id=1vYvj0Gtts7dfXizYcmPBKlIzb8y98m_x&sz=w1000",
                Silent Bastion Strike "7": "https://drive.google.com/thumbnail?id=15SEMhYvPXze6_V0u-5xI55MPP3NgRWlI&sz=w1000",
                Gloom Crusade "8": "https://drive.google.com/thumbnail?id=1A8Mh75_KIhhaysc9bfVUHApBtWP3F9_7&sz=w1000",
                Blitzdiver Event "9": "https://drive.google.com/thumbnail?id=1qszcuMSDZku8OFvXtFDuz-2ZaO3gmL9U&sz=w1000",
                Dio's Duck Divers "10": "https://drive.google.com/thumbnail?id=1veO9ffVU_1S0YWcwrIyUPX0rYpkyg8ru&sz=w1000",
                Sporeburn Strike "11": "https://drive.google.com/thumbnail?id=1kcNSfhuZWIGH0a09SnLZT0oWiuy-7kQn&sz=w1000",

                //HAC Ribbons
                General Brasch "12": "https://drive.google.com/thumbnail?id=18eWC4BQrqgylIjIgGLfzRpw6Us1ohoKh&sz=w1000",
                John Helldiver "13": "https://drive.google.com/thumbnail?id=1I4aOtSDdIxO5Z5wqTvWdmxT1-zFeuGrW&sz=w1000",
                Medic "14": "https://drive.google.com/thumbnail?id=11K8TM_sqXmh5HpwwQ-rfs3bj0uRshLp9&sz=w1000",
                Melee Proficiency "15": "https://drive.google.com/thumbnail?id=1EwJUehneS81-2M_E-2bsYk99LhETi-wo&sz=w1000",
                Shots Fired "16": "https://drive.google.com/thumbnail?id=14aoY6brfDPJeIm5rNhmFs4ETpt7KExU9&sz=w1000",
                Speedruns "17": "https://drive.google.com/thumbnail?id=19qAuoXcBR-yFrQo7nl9CTm37e9btXzAx&sz=w1000",
                Recruitment "18": "https://drive.google.com/thumbnail?id=1Z_PTKqhm_KhGTBPKp3gXWtWh9RBudnOg&sz=w1000",
                Ghost Ribbon "19: "https://drive.google.com/thumbnail?id=1isttZluvJshq1uYNy-x6AhKAJl2uNFRq&sz=w1000",
                Soaring Freedom "20": "https://drive.google.com/thumbnail?id=1O9zbxW-bWFS5qcNHaHvGW8tZq0wU3Ode&sz=w1000",
                Angel of Death "21": "https://drive.google.com/thumbnail?id=1UISfCJIYihKETBg62hT_kipqDuIittw7&sz=w1000",
                Retirment "22": "https://drive.google.com/thumbnail?id=19ky8jGRMqzn5GGf7xH7azCo0KyoAbxA7&sz=w1000",
                Stratagem Hero "23": "https://drive.google.com/thumbnail?id=1EdMEerbQKz2TUdPt0k6GMGWkhWfAVcCo&sz=w10",

                // Helldivers Career Ribons
                Terminid Career Kills "24": "https://drive.google.com/thumbnail?id=1dtIebf1TCdn_HOlqMasxuMPiwdnG5FF4&sz=w1000",
                Terminid Kill Record "25": "https://drive.google.com/thumbnail?id=17i7bq4-FgbhGi1fu5OaXohbchSBNHO1z&sz=w1000",
                Automaton Career Kills "26": "https://drive.google.com/thumbnail?id=1SuJ39whXa5k-XWaukqtJhAA9xkC15TDE&sz=w1000",
                Automation Kill Record "27": "https://drive.google.com/thumbnail?id=1Wc73phKca4meLg7YmnS8Qu0AvpOOci3L&sz=w1000",
                Illuminate Career Kills "28": "https://drive.google.com/thumbnail?id=1JShh-WbgYHoRMWAI1nxtlBIm95q1Wmb-&sz=w1000",
                Illuminate Kill Record "29": "https://drive.google.com/thumbnail?id=10xT1d9Pbx7_QyRoBb22e_7JmVg6rkvBc&sz=w1000",
                Grenade Kills "30": "https://drive.google.com/thumbnail?id=1J0zrMPSiSGfueYJQxSpGHUy2rc0is44H&sz=w1000",
                Melee Kills "31": "https://drive.google.com/thumbnail?id=1Nn15CDcJTrRZ1k9UIXJ6So-QszveMf1Y&sz=w1000",
                Eagle Kills "32": "https://drive.google.com/thumbnail?id=14GjOfICJLr2rykK6aMPXv85ys4bTIj4m&sz=w1000",
                Extractions ---
                Objectives "33": "https://drive.google.com/thumbnail?id=19xkp1a91N60uPqHZXe1QIZ8ykrGs2UBA&sz=w1000",
                Missions "34": "https://drive.google.com/thumbnail?id=1wSdicSURRkzxsM4qmZfwAbOd4q7Addp5&sz=w1000",
                Samples "35": "https://drive.google.com/thumbnail?id=1qAvUyf3DZdUi0ILfEuv3hoaWO7ZQdCX4&sz=w1000",
                lvl 150 1x "36": "https://drive.google.com/thumbnail?id=134EAuzMShoT-UIKNmrhyQ7_48B4zfBEN&sz=w1000",
                lvl 150 2x "37": "https://drive.google.com/thumbnail?id=1bsxrhqiQjOE2N-4uvW7StierxDEuOijA&sz=w1000",
                lvl 150 3x "38": "https://drive.google.com/thumbnail?id=1v_fugy8ldUrZl0vTMYSopL_4TVTG6GlU&sz=w1000",
                lvl 150 4x "39": "https://drive.google.com/thumbnail?id=116Vh8DrWtABEvzwfwJTHP0uGqhSWIFzs&sz=w1000",
                lvl 150 5x "40": "https://drive.google.com/thumbnail?id=18JdjMxepgGQULNv1jDVs5IJA0I-JyCwM&sz=w1000"
                */
            };

            /*
            const selectedValue = dropdown.value;
            if (ribbonz[selectedValue]) {
                ribbons.src = ribbonz[selectedValue];
                ribbons.style.display = "block";
                ribbons.alt = dropdown.options[dropdown.selectedIndex].text;
                //document.getElementById("selectedRibbons").appendChild(ribbons.src);
            } else {
                ribbons.style.display = "none";
                ribbons.alt = "";
            }
            */

            let img = new Image();
            img.src = ribbonz[dropdown.value];

            // Wait till image is loaded.
            img.onload = function () {
                // Create a canvas context.
                let canvas = document.getElementById('fullBox');
                let ctx = canvas.getContext('2d');

                //drawImage(img, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)
                ctx.drawImage(img, 0, 0, img.width, img.height, 1118*scale, 775*scale, 312*scale, 75*scale,);	// Draw the image on the canvas.
            }

            /*document.getElementById("placehere").appendChild(elem);
        }
        function downloadShadowBox() {
            /*
            // Grab the canvas element
            let canvas = document.getElementById("fullBox");
            // Create a PNG image of the pixels drawn on the canvas using the toDataURL method. PNG is the preferred format since it is supported by all browsers
            let dataURL = canvas.toDataURL("image/png");

            // Create a dummy link text
            let a = document.createElement('a');
            // Set the link to the image so that when clicked, the image begins downloading
            a.href = dataURL;
            // Specify the image filename
            a.download = "shadowbox.png";
            // Click on the link to set off download
            a.click();
            */

            let canvas = document.getElementById("fullBox");
            var dataURL = canvas.toDataURL("image/png");
            var a = document.createElement('a');
            a.href = dataURL;
            a.download = 'canvas-download.png';
            a.click();
        }
    </script>
</body>
</html>
